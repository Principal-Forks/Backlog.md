{
	"version": "1.0.0",
	"canvas": ".principal-views/cleanup-operations/cleanup-operations.otel.canvas",
	"mode": "span-tree",
	"name": "Task Complete",
	"description": "Moving a single task to the completed folder",
	"scenarios": [
		{
			"id": "complete-success-with-commit",
			"priority": 1,
			"condition": {
				"requires": ["task.complete.complete", "task.complete.committed"],
				"assertions": {
					"success": true
				}
			},
			"template": {
				"summary": "‚úÖ Completed task {taskId} and committed to git",
				"events": {
					"task.complete.started": "Completing task: {{taskId}}",
					"task.complete.located": "Located task at {{sourcePath}}",
					"task.complete.moved": "Moved from {{fromPath}} to {{toPath}}",
					"task.complete.committed": "Committed: {{commitMessage}}",
					"task.complete.complete": "Task {{taskId}} completed successfully"
				}
			}
		},
		{
			"id": "complete-success-no-commit",
			"priority": 2,
			"condition": {
				"requires": ["task.complete.complete"],
				"assertions": {
					"success": true
				}
			},
			"template": {
				"summary": "‚úÖ Completed task {taskId}",
				"events": {
					"task.complete.started": "Completing task: {{taskId}}",
					"task.complete.located": "Located task at {{sourcePath}}",
					"task.complete.moved": "Moved from {{fromPath}} to {{toPath}}",
					"task.complete.complete": "Task {{taskId}} completed successfully"
				}
			}
		},
		{
			"id": "complete-not-found",
			"priority": 3,
			"condition": {
				"requires": ["cleanup.error"],
				"assertions": {
					"operation": "complete",
					"error.type": "TaskNotFound"
				}
			},
			"template": {
				"summary": "‚ùå Task {taskId} not found - cannot complete",
				"events": {
					"task.complete.started": "Completing task: {{taskId}}",
					"cleanup.error": "Task not found: {{error.message}}"
				}
			}
		},
		{
			"id": "complete-error",
			"priority": 4,
			"condition": {
				"requires": ["cleanup.error"],
				"assertions": {
					"operation": "complete"
				}
			},
			"template": {
				"summary": "‚ùå Task completion failed at {error.stage}: {error.message}",
				"events": {
					"task.complete.started": "Completing task: {{taskId}}",
					"cleanup.error": "Failed at {{error.stage}}: {{error.message}}"
				}
			}
		},
		{
			"id": "fallback",
			"priority": 999,
			"condition": {
				"default": true
			},
			"template": {
				"summary": "üìã Task complete execution captured",
				"events": {
					"task.complete.started": "Complete started",
					"task.complete.located": "Task located",
					"task.complete.moved": "Task moved",
					"task.complete.committed": "Changes committed",
					"task.complete.complete": "Operation complete",
					"cleanup.error": "Error occurred"
				}
			}
		}
	]
}
