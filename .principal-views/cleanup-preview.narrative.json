{
	"version": "1.0.0",
	"canvas": "cleanup-operations.otel.canvas",
	"mode": "span-tree",
	"name": "Cleanup Preview",
	"description": "Preview which tasks would be affected by cleanup operation",
	"scenarios": [
		{
			"id": "preview-success-with-tasks",
			"priority": 1,
			"condition": {
				"requires": ["cleanup.preview.complete"],
				"assertions": {
					"success": true
				}
			},
			"template": {
				"summary": "‚úÖ Found {taskCount} tasks to clean up (older than {olderThanDays} days)",
				"events": {
					"cleanup.preview.started": "Previewing cleanup for tasks older than {{olderThanDays}} days",
					"cleanup.preview.filtered": "Filtered {{totalTasks}} total tasks ‚Üí {{matchedTasks}} Done tasks older than {{cutoffDate}}",
					"cleanup.preview.complete": "Preview complete: {{taskCount}} tasks will be affected"
				}
			}
		},
		{
			"id": "preview-no-tasks",
			"priority": 2,
			"condition": {
				"requires": ["cleanup.preview.complete"],
				"assertions": {
					"success": true,
					"taskCount": 0
				}
			},
			"template": {
				"summary": "‚ö†Ô∏è No tasks found to clean up (older than {olderThanDays} days)",
				"events": {
					"cleanup.preview.started": "Previewing cleanup for tasks older than {{olderThanDays}} days",
					"cleanup.preview.filtered": "No Done tasks older than {{cutoffDate}}",
					"cleanup.preview.complete": "Preview complete: no tasks to clean up"
				}
			}
		},
		{
			"id": "preview-error",
			"priority": 3,
			"condition": {
				"requires": ["cleanup.error"],
				"assertions": {
					"operation": "preview"
				}
			},
			"template": {
				"summary": "‚ùå Cleanup preview failed: {error.message}",
				"events": {
					"cleanup.preview.started": "Previewing cleanup",
					"cleanup.error": "Failed at {{error.stage}}: {{error.message}}"
				}
			}
		},
		{
			"id": "fallback",
			"priority": 999,
			"condition": {
				"default": true
			},
			"template": {
				"summary": "üìã Cleanup preview execution captured",
				"events": {
					"cleanup.preview.started": "Preview started",
					"cleanup.preview.filtered": "Tasks filtered",
					"cleanup.preview.complete": "Preview complete",
					"cleanup.error": "Error occurred"
				}
			}
		}
	]
}
